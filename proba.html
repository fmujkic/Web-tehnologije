<!DOCTYPE html>
<html>

<head>

</head>

<body>

    <div class="form">




        <textarea id="text" name="text" rows="4" cols="50">Neko Nekić,12345</textarea>

        <label for="grupe">Odaberite grupu</label>

        <select name="grupe" id="grupe">

        <option value="grupa1">grupa1</option>
        <option value="grupa2">grupa2</option>

        </select>




        <button type="submit" id="btn-submit">Pošalji</button>
    </div>

    <script>
        const form = {
            tekst: document.getElementById("text"),
            grupa: document.getElementById("grupe"),
            submit: document.getElementById("btn-submit")
        };

        form.submit.addEventListener('click', () => {

            console.log("pritisnuto");





            var zahtjev = new XMLHttpRequest();
            zahtjev.onreadystatechange = function() {
                if (zahtjev.readyState == 4 && zahtjev.status == 200) {
                    var jsonRez = JSON.parse(zahtjev.responseText);
                    // listaPredmeti = document.getElementById("listaPredmeti")
                    //while (listaPredmeti.firstChild) listaPredmeti.removeChild(listaPredmeti.firstChild);


                    form.tekst.value = "Zadatak je izvrsen ukoliko ima gresaka biti ce navedene u nastavku: ";

                    jsonRez.forEach((red) => {

                        form.tekst.value += "    " + red['ime'] + "    " + red['index'] + "    ";

                        //const li = document.createElement("li");
                        //li.innerHTML = red['naziv'];
                        //listaPredmeti.appendChild(li);
                    });
                }
            };
            zahtjev.open("GET", "http://localhost:3009/v2/student", true);
            zahtjev.setRequestHeader("Content-Type", "application/json");
            zahtjev.send();






        });
    </script>






    </div>





</body>

</html>